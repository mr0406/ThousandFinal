<div class="tousandCard p-2 m-1" draggable="true" @ondragstart="@(() => HandleDragStart(CardModel))" style="
    height: 185px;
    width: 150px;
    min-width: 150px;
    border-radius: 15px;
    background: rgb(230,230,230);
    display: flex;
    flex-direction: column;
    flex-wrap: wrap;
    transition: .2s;
    clear: both;
    position: relative;
    margin: 0;
    padding: 0;">

    <div style="display: flex; flex-direction: column; align-self: flex-start; padding: 0">
        <div style="color: @cardTextColor()">@CardModel.Rank</div>
            <img src=@getImgLink(CardModel)  draggable= "false" style="display: block; margin: auto; width: 24px;" />
        </div>
        <img src=@getImgLink(CardModel) draggable= "false" style="display: block; margin: auto; width:64px" />
        <div cstyle="align-self: flex-end">
            <img src=@getImgLink(CardModel) draggable= "false" style=" display: block; margin: auto; width: 24px; transform: rotate(180deg)" />
        <div style="transform: rotate(180deg); color: @cardTextColor()">@CardModel.Rank</div>
    </div>
</div>

@code {
    [CascadingParameter] Game Game { get; set; }
    [Parameter] public CardModel CardModel { get; set; }


    public bool exposed { get; set; } = true;

    private string getImgLink(CardModel CardModel)
    {
        return "/images/" + CardModel.Suit.ToString().ToLower() + ".ico";
    }

    private string cardTextColor()
    {
        if (CardModel.Suit == Suit.Clubs || CardModel.Suit == Suit.Spades)
            return "#000000";
        else
            return "#D42929";
    }

    private void HandleDragStart(CardModel draggedCard)
    {
        Console.WriteLine("DragStart");
        Game.PayloadCard = draggedCard;
    }
}
